
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn" dir="ltr" >

<head>
    <script type="text/javascript" src="jquery-2.2.2.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $("butto").click(function(){
                $("p").html("W3School");
            });
        });
        function getEndDay(month)
        {
            var objS = document.getElementById("endyear");
            var year = objS.options[objS.selectedIndex].value;

            var objS = document.getElementById("dataselect");
            var dataselect = objS.options[objS.selectedIndex].value;
            $.get("http://localhost:8080/webchart/DataAccess?dataselect="+dataselect,{"type":"day","year":year,"month":month},function(data){
                var options=data.split(" ");
                var obj2=document.getElementById("endday");
                //添加一个选项
                obj2.length=0;
                for(var k=0;k < options.length;k++)
                {
                    obj2.add(new Option(options[k],options[k]));

                }
            });
        }
        function getStartDay(month)
        {
           // alert(year);
           // alert(month);
            var objS = document.getElementById("startyear");
            var year = objS.options[objS.selectedIndex].value;

            var objS = document.getElementById("dataselect");
            var dataselect = objS.options[objS.selectedIndex].value;
            $.get("http://localhost:8080/webchart/DataAccess?dataselect="+dataselect,{"type":"day","year":year,"month":month},function(data){
                var options=data.split(" ");
                var obj1=document.getElementById("startday");
                //添加一个选项
                obj1.length=0;
                for(var k=0;k < options.length;k++)
                {
                    var op1=new Option(options[k],options[k]);
                    obj1.add(op1);
                }
            });

        }
        function getEndMonth(year)
        {
            var objS = document.getElementById("dataselect");
            var dataselect = objS.options[objS.selectedIndex].value;
            $.get("http://localhost:8080/webchart/DataAccess?dataselect="+dataselect,{"type":"month","year":year},function(data){
                var options=data.split(" ");
                var obj3=document.getElementById("endmonth");
                // print("fdafaf");
                //添加一个选项
                obj3.length=0;
                for(var k=0;k < options.length;k++)
                {
                    var op1=new Option(options[k],options[k]);
                    obj3.add(op1);
                }
                    obj3[0].onClick=getEndDay(options[0]);
            });

        }
        function getStartMonth(year)
        {
            //alert(year);
            var objS = document.getElementById("dataselect");
            var dataselect = objS.options[objS.selectedIndex].value;
            $.get("http://localhost:8080/webchart/DataAccess?dataselect="+dataselect,{"type":"month","year":year},function(data){
                var options=data.split(" ");
                var obj3=document.getElementById("startmonth");
                // print("fdafaf");
                //添加一个选项
                obj3.length=0;
                for(var k=0;k < options.length;k++)
                {
                    var op1=new Option(options[k],options[k]);
                    obj3.add(op1);
                }
                    obj3[0].onClick=getStartDay(options[0]);
            });

        }
        function getYear() {
            var objS = document.getElementById("dataselect");
            var dataselect = objS.options[objS.selectedIndex].value;
            $.get("http://localhost:8080/webchart/DataAccess?dataselect="+dataselect,{"type":"year"},function(data){
                var options=data.split(" ");
                var obj1=document.getElementById("startyear");
                var obj2=document.getElementById("endyear");
                // print("fdafaf");
                //添加一个选项
                obj1.length=0;
                obj2.length=0;
                for(var k=0;k < options.length;k++) {
                    var op1 = new Option(options[k], options[k]);
                    obj1.add(op1);
                    var op2 = new Option(options[k], options[k]);
                    obj2.add(op2);

                }
                var k=0;
                   obj1[k].onClick=getStartMonth(options[k]);
                    obj2[k].onClick=getEndMonth(options[k]);
            });

        }

    </script>
    <base href="http://smc.hit.edu.cn/qthdata/index.php/sample-sites" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Super User" />
    <meta name="generator" content="Joomla! - Open Source Content Management" />
    <title>数据中心</title>
    <style type="text/css">
        body{
            margin:0px;
        }

        .test1{
            margin-top:20px;
        }
        .test2{
            margin-left:20px;
        }

        .test2_son{
            width:80px;
            height:50px;
            border:12px solid blue;
        }
    </style>
    <link href="templates/beez_20/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
    <link href="http://smc.hit.edu.cn/qthdata/index.php/component/search/?Itemid=238&amp;format=opensearch" rel="search" title="搜索 青藏高速公路灾变监控数据平台" type="application/opensearchdescription+xml" />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/system/css/system.css" type="text/css" />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/beez_20/css/position.css" type="text/css" media="screen,projection"  />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/beez_20/css/layout.css" type="text/css" media="screen,projection"  />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/beez_20/css/print.css" type="text/css" media="print"  />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/beez_20/css/general.css" type="text/css" />
    <link rel="stylesheet" href="http://localhost:8080/webchart/templates/beez_20/css/nature.css" type="text/css" />
    <script src="http://localhost:8080/webchart/media/system/js/mootools-core.js" type="text/javascript"></script>
    <script src="http://localhost:8080/webchart/media/system/js/core.js" type="text/javascript"></script>
    <script src="http://localhost:8080/webchart/media/system/js/caption.js" type="text/javascript"></script>
    <script src="http://localhost:8080/webchart/media/system/js/mootools-more.js" type="text/javascript"></script>
    <script src="http://localhost:8080/webchart/templates/beez_20/javascript/md_stylechanger.js" type="text/javascript"></script>
    <script src="http://localhost:8080/webchart/templates/beez_20/javascript/hide.js" type="text/javascript"></script>
    <script type="text/javascript">
        window.addEvent('load', function() {
            new JCaption('img.caption');
        });
    </script>


    <!--[if lte IE 6]>
    <link href="http://localhost:8080/webchart/templates/beez_20/css/ieonly.css" rel="stylesheet" type="text/css" />
    <![endif]-->

    <!--[if IE 7]>
    <link href="http://localhost:8080/webchart/templates/beez_20/css/ie7only.css" rel="stylesheet" type="text/css" />
    <![endif]-->

    <script type="text/javascript">
        var big ='72%';
        var small='53%';
        var altopen='已关闭';
        var altclose='已关闭';
        var bildauf='http://localhost:8080/webchart/templates/beez_20/images/plus.png';
        var bildzu='http://localhost:8080/webchart/templates/beez_20/images/minus.png';
        var rightopen='打开特殊栏';
        var rightclose='关闭特殊栏';
        var fontSizeTitle='字体大小：';
        var bigger='放大';
        var reset='重置';
        var smaller='缩小';
        var biggerTitle='增加尺寸';
        var resetTitle='恢复默认样式';
        var smallerTitle='减小尺寸';
    </script>

</head>

<body>

<div id="all">
    <div id="back">
        <div id="header">
            <div class="logoheader">
                <h1 id="logo">

                    <img src="http://localhost:8080/webchart/images/joomla_black.gif"  alt="青藏高速公路灾变监控数据平台" />
                                                                                                                        <span class="header1">
                                        Disaster Monitoring Data Platform for Qinghai-Tibet Highway                                        </span></h1>
            </div><!-- end logoheader -->
            <ul class="skiplinks">
                <li><a href="#main" class="u2">跳转至内容</a></li>
                <li><a href="#nav" class="u2">跳转到主导航和登录</a></li>
            </ul>
            <h2 class="unseen">导航、浏览及搜索</h2>
            <h3 class="unseen">导航</h3>

            <ul class="menu">
                <li class="item-464"><a href="/qthdata/" >首页</a></li><li class="item-444 active"><a href="/qthdata/index.php/sample-sites" >数据中心</a></li></ul>

            <div id="line">
                <div id="fontsize"></div>
                <h3 class="unseen">搜索</h3>
                <form action="/qthdata/index.php/sample-sites" method="post">
                    <div class="search">
                        <label for="mod-search-searchword">搜索...</label><input name="searchword" id="mod-search-searchword" maxlength="10"  class="inputbox" type="text" size="20" value="搜索..."  onblur="if (this.value=='') this.value='搜索...';" onfocus="if (this.value=='搜索...') this.value='';" />	<input type="hidden" name="task" value="search" />
                        <input type="hidden" name="option" value="com_search" />
                        <input type="hidden" name="Itemid" value="238" />
                    </div>
                </form>

            </div> <!-- end line -->


        </div><!-- end header -->
        <div id="contentarea">
            <div id="breadcrumbs">


                <div class="breadcrumbs">
                    <span class="showHere">当前位置：</span><a href="/qthdata/" class="pathway">Home</a> <img src="http://localhost:8080/webchart/templates/beez_20/images/system/arrow.png" alt=""  /> <span>数据中心</span></div>


            </div>



            <div class="left1 leftbigger" id="nav">
                <div class="moduletable_menu">
                    <h3><span
                            class="backh"><span class="backh2"><span class="backh3">User Menu</span></span></span></h3>

                    <ul class="menu">
                        <li class="item-201"><a href="/qthdata/index.php/your-profile" >Your Profile</a></li></ul>
                </div>


                <div id="area-3" class="tabouter"><ul class="tabs"><li class="tab"><a href="#" id="link_22" class="linkopen" onclick="tabshow('module_22');return false">数据中心</a></li></ul><div tabindex="-1" class="tabcontent tabopen" id="module_22">
                    <ul class="menu">
                        <li class="item-243"><a href="/qthdata/index.php/road-bed-data" >aaaa</a></li>
                        <li class="item-234"><a href="/qthdata/index.php/bridge-data" >vvv</a></li>
                        <li class="item-242"><a href="http://localhost:8080/webchart/qljc.jsp" >ccc</a></li>
                        <li class="item-244"><a href="/qthdata/index.php/the-other-data" >其他监测数据</a></li>
                    </ul>
                </div></div>


            </div><!-- end navi -->
            <div id="wrapper2" >

                <div id="main">
                    <div id="system-message-container">
                    </div>
                    <div class="item-page">
                        <!-- 在这里写代码 -->
                        <div >
                            请选择数据
                            <select class="test2" id="dataselect" onclick="getYear()">
                                <option value="luji_1" onclick="getYear()">一号观测场变形</option>
                                <option value="luji_2">二号观测场变形</option>
                                <option value="luji_3">三号观测场变形</option>
                                <option value="luji_4">一号观测场变形数据校准</option>
                                <option value="luji_5">二号观测场变形数据校准</option>
                                <option value="luji_6">三号观测场变形数据校准</option>
                            </select>
                        </div>
                        <div class="test1">
                            查询开始日期
                            <select id="startyear" onchange="getStartMonth(this[selectedIndex].innerHTML)"></select> 年
                            <select id="startmonth" onchange="getStartDay(this[selectedIndex].innerHTML)" ></select>月
                            <select id="startday"></select>日

                            查询结束日期
                            <select id="endyear" onchange="getEndMonth(this[selectedIndex].innerHTML)" ></select> 年
                            <select id="endmonth" onchange="getEndDay(this[selectedIndex].innerHTML)"></select>月
                            <select id="endday"></select>日
                            </select>
                        </div>
                        <div class="test1">
                            <p>传感器选择</p>
                            <label><input name="Fruit" type="checkbox" value="" />1 </label>
                            <label><input name="Fruit" type="checkbox" value="" />2 </label>
                            <label><input name="Fruit" type="checkbox" value="" />3 </label>
                            <label><input name="Fruit" type="checkbox" value="" />4 </label>
                            <label><input name="Fruit" type="checkbox" value="" />5 </label>
                            <label><input name="Fruit" type="checkbox" value="" />6 </label>
                            <label><input name="Fruit" type="checkbox" value="" />7 </label>
                            <label><input name="Fruit" type="checkbox" value="" />8 </label>
                            <label><input name="Fruit" type="checkbox" value="" />9 </label>
                            <label><input name="Fruit" type="checkbox" value="" />10 </label>
                            <label><input name="Fruit" type="checkbox" value="" />11 </label>
                            <label><input name="Fruit" type="checkbox" value="" />12 </label>
                            <label><input name="Fruit" type="checkbox" value="" />13 </label>
                            <label><input name="Fruit" type="checkbox" value="" />14 </label>
                            <label><input name="Fruit" type="checkbox" value="" />15 </label>
                            <label><input name="Fruit" type="checkbox" value="" />16 </label>
                            <label><input name="Fruit" type="checkbox" value="" />17 </label>
                            <label><input name="Fruit" type="checkbox" value="" />18 </label>
                            <label><input name="Fruit" type="checkbox" value="" />19 </label>
                            <label><input name="Fruit" type="checkbox" value="" />20 </label>
                        </div>
                        <button type="button" onclick="VeryRegAccount()" >开始查询</button>
                    </div>


                </div><!-- end main -->

            </div><!-- end wrapper -->



            <div class="wrap"></div>

        </div> <!-- end contentarea -->

    </div><!-- back -->

</div><!-- all -->

<div id="footer-outer">

    <div id="footer-sub">


        <div id="footer">


            <p>
                Powered by <a href="http://www.hit.edu.cn">HIT</a>
            </p>


        </div><!-- end footer -->

    </div>

</div>

</body>

<script type="text/javascript">

    document.getElementById("123").innerText="mengfanshan";
    function a(){
        var b=1;

        document.getElementById("123").innerHTML="mengfanshan";
        return b;
    }
    document.getElementById("reset").onclick = function(){
        // 你的代码
        print("fdafaf");

        test();
    };
    function option(){
        //根据id查找对象，
        var arrayObj = new Array();
        arrayObj. push("1");
        arrayObj. push("2");
        var fso = new ActiveXObject("Scripting.FileSystemObject");
        var f = fso.OpenTextFile("luji_1.csv", ForReading, false); //读文件
        alert(f.ReadLine());
        var obj=document.getElementById('select');
        // print("fdafaf");
        //添加一个选项
        // obj.add(new Option("文本","值"));    //这个只能在IE中有效
    }


    function gradeChange(){
       // var f1=new File();
        if (!window.FileReader) {
            alert("Not supported by your browser!");
        } else {
            File
            f = new File("http://localhost:8080/webchart/luji_1.csv");
            var reader = new FileReader();
            reader.onload = function () {
                // document.getElementById("filecontent").innerHTML = this.result;
                alert(this.result);
            };
            var fso = new ActiveXObject("Scripting.FileSystemObject");
            var f1 = fso.createtextfile("myjstest.txt", true);
            reader.readAsText(file);
        }
        var objS = document.getElementById("pid");
        var grade = objS.options[objS.selectedIndex].value;
      //  option();
      //  var fs=new FileReader("luji_1.csv");
      //  fs.readAsText(f1);
       // alert(f1);
        alert(grade);
    }

</script>
</html>
